[gd_scene load_steps=13 format=3 uid="uid://mgyu3chgoje4"]

[ext_resource type="Script" path="res://scenes/items/weapons/weapon_base.gd" id="1_su1hx"]
[ext_resource type="Shader" path="res://addons/GPUTrail-main/shaders/trail.gdshader" id="2_76jsw"]
[ext_resource type="Material" uid="uid://bivmn183apo61" path="res://scenes/items/weapons/Sword_Color.tres" id="3_0cxd8"]
[ext_resource type="Shader" path="res://addons/GPUTrail-main/shaders/trail_draw_pass.gdshader" id="3_65vo4"]
[ext_resource type="Texture2D" uid="uid://b60j5oi1fk2ya" path="res://scenes/items/weapons/Sword_Trail.tres" id="5_bjmj1"]
[ext_resource type="Script" path="res://addons/GPUTrail-main/GPUTrail3D.gd" id="6_ak41x"]
[ext_resource type="Texture2D" uid="uid://7ig6u6htikfo" path="res://addons/GPUTrail-main/defaults/Sword_trail_curve.tres" id="6_r27jg"]
[ext_resource type="PackedScene" uid="uid://yurti5awijg6" path="res://assets/mesh/blender models/sword.blend" id="7_u65a5"]

[sub_resource type="ShaderMaterial" id="ShaderMaterial_wyb76"]
shader = ExtResource("2_76jsw")

[sub_resource type="ShaderMaterial" id="ShaderMaterial_2gk45"]
resource_local_to_scene = true
render_priority = 126
shader = ExtResource("3_65vo4")
shader_parameter/emmission_transform = Projection(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1)
shader_parameter/flags = 40
shader_parameter/color_ramp = ExtResource("5_bjmj1")
shader_parameter/curve = ExtResource("6_r27jg")

[sub_resource type="QuadMesh" id="QuadMesh_ohbdx"]
material = SubResource("ShaderMaterial_2gk45")

[sub_resource type="ConcavePolygonShape3D" id="ConcavePolygonShape3D_m8rqw"]
data = PackedVector3Array(0, 0.0279, -0.0084, 0.0125, 0.037, -0.0026, 0, 0.0291, -0.0084, 0, 0.0279, -0.0084, 0.0165, 0.029, -0.0032, 0.0125, 0.037, -0.0026, 0.0165, 0.029, 0.0032, 0.0125, 0.037, -0.0026, 0.0165, 0.029, -0.0032, 0.0165, 0.029, 0.0032, 0.0125, 0.037, 0.0026, 0.0125, 0.037, -0.0026, 0, 0.0279, -0.0084, 0.0049, 0.0225, -0.0042, 0.0165, 0.029, -0.0032, 0, 0.0279, -0.0084, 0, 0.0225, -0.0042, 0.0049, 0.0225, -0.0042, 0.0165, 0.029, 0.0032, 0, 0.0291, 0.0084, 0.0125, 0.037, 0.0026, 0.0165, 0.029, 0.0032, 0, 0.0279, 0.0084, 0, 0.0291, 0.0084, 0.0049, 0.0225, -0.0042, 0.0052, 0.0225, 0.002, 0.0049, 0.0225, 0.0042, 0.0049, 0.0225, -0.0042, 0.0052, 0.0225, -0.002, 0.0052, 0.0225, 0.002, 0.0165, 0.029, -0.0032, 0.0049, 0.0225, 0.0042, 0.0165, 0.029, 0.0032, 0.0165, 0.029, -0.0032, 0.0049, 0.0225, -0.0042, 0.0049, 0.0225, 0.0042, 0.0165, 0.029, 0.0032, 0, 0.0225, 0.0042, 0, 0.0279, 0.0084, 0.0165, 0.029, 0.0032, 0.0049, 0.0225, 0.0042, 0, 0.0225, 0.0042, 0.0049, 0.0225, 0.0042, 0, 0.0225, 0.002, 0, 0.0225, 0.0042, 0.0049, 0.0225, 0.0042, 0.0052, 0.0225, 0.002, 0, 0.0225, 0.002, 0.0052, 0.0225, -0.002, 0.0012, -0.0135, 0.002, 0.0052, 0.0225, 0.002, 0.0052, 0.0225, -0.002, 0.0012, -0.0135, -0.002, 0.0012, -0.0135, 0.002, 0, 0.0225, -0.0042, 0.0052, 0.0225, -0.002, 0.0049, 0.0225, -0.0042, 0, 0.0225, -0.0042, 0, 0.0225, -0.002, 0.0052, 0.0225, -0.002, 0, 0.0291, 0.0084, 0.0124, 0.037, 0.0006, 0.0125, 0.037, 0.0026, 0, 0.0291, 0.0084, 0, 0.037, 0.006, 0.0124, 0.037, 0.0006, 0, 0.037, 0.006, 0.0125, 0.1191, 0.0006, 0.0124, 0.037, 0.0006, 0, 0.037, 0.006, 0, 0.1149, 0.006, 0.0125, 0.1191, 0.0006, 0.0125, 0.037, 0.0026, 0.0124, 0.037, -0.0006, 0.0125, 0.037, -0.0026, 0.0125, 0.037, 0.0026, 0.0124, 0.037, 0.0006, 0.0124, 0.037, -0.0006, 0.0125, 0.037, -0.0026, 0, 0.037, -0.006, 0, 0.0291, -0.0084, 0.0125, 0.037, -0.0026, 0.0124, 0.037, -0.0006, 0, 0.037, -0.006, 0, 0.1149, 0.006, 0, 0.1423, 0.0006, 0.0125, 0.1191, 0.0006, 0.0125, 0.1191, 0.0006, 0, 0.1423, 0.0006, 0, 0.1465, 0, 0.0124, 0.037, -0.0006, 0, 0.1149, -0.006, 0, 0.037, -0.006, 0.0124, 0.037, -0.0006, 0.0125, 0.1191, -0.0006, 0, 0.1149, -0.006, 0.0124, 0.037, 0.0006, 0.0125, 0.1191, -0.0006, 0.0124, 0.037, -0.0006, 0.0124, 0.037, 0.0006, 0.0125, 0.1191, 0.0006, 0.0125, 0.1191, -0.0006, 0, 0.1465, 0, 0, 0.1423, -0.0006, 0, 0.1465, 0, 0, 0.1465, 0, 0, 0.1423, 0.0006, 0, 0.1423, -0.0006, 0.0125, 0.1191, -0.0006, 0, 0.1423, -0.0006, 0, 0.1149, -0.006, 0.0125, 0.1191, -0.0006, 0, 0.1465, 0, 0, 0.1423, -0.0006, 0.0125, 0.1191, 0.0006, 0, 0.1465, 0, 0.0125, 0.1191, -0.0006, 0.0125, 0.1191, 0.0006, 0, 0.1465, 0, 0, 0.1465, 0, 0.0012, -0.0135, 0.002, 0, -0.0135, -0.002, 0, -0.0135, 0.002, 0.0012, -0.0135, 0.002, 0.0012, -0.0135, -0.002, 0, -0.0135, -0.002, 0.0052, 0.0225, 0.002, 0, -0.0135, 0.002, 0, 0.0225, 0.002, 0.0052, 0.0225, 0.002, 0.0012, -0.0135, 0.002, 0, -0.0135, 0.002, 0, 0.0225, -0.002, 0.0012, -0.0135, -0.002, 0.0052, 0.0225, -0.002, 0, 0.0225, -0.002, 0, -0.0135, -0.002, 0.0012, -0.0135, -0.002, 0, 0.0279, -0.0084, -0.0125, 0.037, -0.0026, -0.0165, 0.029, -0.0032, 0, 0.0279, -0.0084, 0, 0.0291, -0.0084, -0.0125, 0.037, -0.0026, -0.0165, 0.029, 0.0032, -0.0125, 0.037, -0.0026, -0.0125, 0.037, 0.0026, -0.0165, 0.029, 0.0032, -0.0165, 0.029, -0.0032, -0.0125, 0.037, -0.0026, 0, 0.0279, -0.0084, -0.0049, 0.0225, -0.0042, 0, 0.0225, -0.0042, 0, 0.0279, -0.0084, -0.0165, 0.029, -0.0032, -0.0049, 0.0225, -0.0042, -0.0165, 0.029, 0.0032, 0, 0.0291, 0.0084, 0, 0.0279, 0.0084, -0.0165, 0.029, 0.0032, -0.0125, 0.037, 0.0026, 0, 0.0291, 0.0084, -0.0049, 0.0225, -0.0042, -0.0052, 0.0225, 0.002, -0.0052, 0.0225, -0.002, -0.0049, 0.0225, -0.0042, -0.0049, 0.0225, 0.0042, -0.0052, 0.0225, 0.002, -0.0165, 0.029, -0.0032, -0.0049, 0.0225, 0.0042, -0.0049, 0.0225, -0.0042, -0.0165, 0.029, -0.0032, -0.0165, 0.029, 0.0032, -0.0049, 0.0225, 0.0042, -0.0165, 0.029, 0.0032, 0, 0.0225, 0.0042, -0.0049, 0.0225, 0.0042, -0.0165, 0.029, 0.0032, 0, 0.0279, 0.0084, 0, 0.0225, 0.0042, -0.0049, 0.0225, 0.0042, 0, 0.0225, 0.002, -0.0052, 0.0225, 0.002, -0.0049, 0.0225, 0.0042, 0, 0.0225, 0.0042, 0, 0.0225, 0.002, -0.0052, 0.0225, -0.002, -0.0012, -0.0135, 0.002, -0.0012, -0.0135, -0.002, -0.0052, 0.0225, -0.002, -0.0052, 0.0225, 0.002, -0.0012, -0.0135, 0.002, 0, 0.0225, -0.0042, -0.0052, 0.0225, -0.002, 0, 0.0225, -0.002, 0, 0.0225, -0.0042, -0.0049, 0.0225, -0.0042, -0.0052, 0.0225, -0.002, 0, 0.0291, 0.0084, -0.0124, 0.037, 0.0006, 0, 0.037, 0.006, 0, 0.0291, 0.0084, -0.0125, 0.037, 0.0026, -0.0124, 0.037, 0.0006, 0, 0.037, 0.006, -0.0125, 0.1191, 0.0006, 0, 0.1149, 0.006, 0, 0.037, 0.006, -0.0124, 0.037, 0.0006, -0.0125, 0.1191, 0.0006, -0.0125, 0.037, 0.0026, -0.0124, 0.037, -0.0006, -0.0124, 0.037, 0.0006, -0.0125, 0.037, 0.0026, -0.0125, 0.037, -0.0026, -0.0124, 0.037, -0.0006, -0.0125, 0.037, -0.0026, 0, 0.037, -0.006, -0.0124, 0.037, -0.0006, -0.0125, 0.037, -0.0026, 0, 0.0291, -0.0084, 0, 0.037, -0.006, 0, 0.1149, 0.006, -0.0125, 0.1191, 0.0006, 0, 0.1423, 0.0006, 0, 0.1423, 0.0006, -0.0125, 0.1191, 0.0006, 0, 0.1465, 0, -0.0124, 0.037, -0.0006, 0, 0.1149, -0.006, -0.0125, 0.1191, -0.0006, -0.0124, 0.037, -0.0006, 0, 0.037, -0.006, 0, 0.1149, -0.006, -0.0124, 0.037, 0.0006, -0.0125, 0.1191, -0.0006, -0.0125, 0.1191, 0.0006, -0.0124, 0.037, 0.0006, -0.0124, 0.037, -0.0006, -0.0125, 0.1191, -0.0006, -0.0125, 0.1191, -0.0006, 0, 0.1423, -0.0006, 0, 0.1465, 0, -0.0125, 0.1191, -0.0006, 0, 0.1149, -0.006, 0, 0.1423, -0.0006, -0.0125, 0.1191, 0.0006, 0, 0.1465, 0, 0, 0.1465, 0, -0.0125, 0.1191, 0.0006, -0.0125, 0.1191, -0.0006, 0, 0.1465, 0, -0.0012, -0.0135, 0.002, 0, -0.0135, -0.002, -0.0012, -0.0135, -0.002, -0.0012, -0.0135, 0.002, 0, -0.0135, 0.002, 0, -0.0135, -0.002, -0.0052, 0.0225, 0.002, 0, -0.0135, 0.002, -0.0012, -0.0135, 0.002, -0.0052, 0.0225, 0.002, 0, 0.0225, 0.002, 0, -0.0135, 0.002, 0, 0.0225, -0.002, -0.0012, -0.0135, -0.002, 0, -0.0135, -0.002, 0, 0.0225, -0.002, -0.0052, 0.0225, -0.002, -0.0012, -0.0135, -0.002)

[node name="Weapon" type="BoneAttachment3D"]
unique_name_in_owner = true
script = ExtResource("1_su1hx")

[node name="ScalingFix" type="Node3D" parent="."]
transform = Transform3D(1000, 0, 0, 0, 1000, 0, 0, 0, 1000, 0, 0, 0)

[node name="sword" parent="ScalingFix" instance=ExtResource("7_u65a5")]

[node name="Cube" parent="ScalingFix/sword" index="0"]
surface_material_override/0 = ExtResource("3_0cxd8")

[node name="GPUTrail3D" type="GPUParticles3D" parent="ScalingFix/sword/Cube" index="0"]
transform = Transform3D(37.5, 0, 0, 0, 37.5, 0, 0, 0, 37.5, 0, 60, 0)
amount = 100
lifetime = 100.0
explosiveness = 1.0
fixed_fps = 0
process_material = SubResource("ShaderMaterial_wyb76")
draw_pass_1 = SubResource("QuadMesh_ohbdx")
script = ExtResource("6_ak41x")
color_ramp = ExtResource("5_bjmj1")
curve = ExtResource("6_r27jg")
_defaults_have_been_set = true

[node name="WeaponHitbox" type="Area3D" parent="ScalingFix/sword/Cube" index="1"]
transform = Transform3D(150000, 0, 0, 0, 150000, 0, 0, 0, 150000, -163784, -76275.8, -689959)
collision_layer = 2
collision_mask = 4

[node name="CollisionShape3D" type="CollisionShape3D" parent="ScalingFix/sword/Cube/WeaponHitbox"]
transform = Transform3D(6.66667e-06, 0, 0, 0, 6.66667e-06, 0, 0, 0, 6.66667e-06, 1.09189, 0.508505, 4.59972)
shape = SubResource("ConcavePolygonShape3D_m8rqw")

[connection signal="area_entered" from="ScalingFix/sword/Cube/WeaponHitbox" to="." method="_on_weapon_hitbox_area_entered"]

[editable path="ScalingFix/sword"]
